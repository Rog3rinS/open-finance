# ğŸ¦ API mini BC

API para simular operaÃ§Ãµes bancÃ¡rias simples com usuÃ¡rios, contas, instituiÃ§Ãµes financeiras e transaÃ§Ãµes.

---

## ğŸ“¦ Tecnologias Utilizadas

- Node.js
- Express
- Sequelize
- PostgreSQL
- Docker + Docker Compose
- Yup (validaÃ§Ã£o)

---


## ğŸš€ Como Executar

### 1. Clone o repositÃ³rio

```bash
git clone https://github.com/Kroth09/API-miniBC
```

### 2. Acesse a pasta do projeto BancoCentral

```bash
cd ChallengesCMPS/BancoCentra
```

### 3. Instale as dependÃªncias

```bash
npm install
```

### 4. Inicie o ambiente com Docker

```bash
sudo docker compose up -d
```

### 5. Rode as migration

```bash
npx sequelize-cli db:migrate
```

### 6. Execute o projeto usando o script

```bash
npm run dev
```

## ğŸ“˜ Guia de Uso da API

ApÃ³s iniciar o servidor, a API estarÃ¡ disponÃ­vel em `http://localhost:3333`.

---

### ğŸ” 1. Criar um UsuÃ¡rio

**Endpoint**

`POST /usuarios`

**Corpo da requisiÃ§Ã£o**

```json
{
  "cpf": "12345678910",
  "name": "Eduardo Kroth",
  "email": "eduardo@kroth.com"
}
```

### ğŸ” 2. Consultar UsuÃ¡rio por CPF

**Endpoint**

`GET /usuarios/:cpf`

### âœï¸ 3. Atualizar UsuÃ¡rio

**Endpoint**

`PUT /usuarios/:cpf`

**Corpo da requisiÃ§Ã£o**

```json
{
  "cpf": "12345678910",
  "name": "Eduardo Voigt Kroth",
  "email": "eduardo.kroth@email.com"
}
```

### ğŸ—‘ï¸ 4. Deletar UsuÃ¡rio

**Endpoint**

`DELETE /usuarios/:cpf`.


---

### ğŸ›ï¸ 5. Criar InstituiÃ§Ã£o

**Endpoint**

`POST /instituicao`

**Corpo da requisiÃ§Ã£o**

```json
{
  "name": "Itau",
  "type": "Banco"
}
```

### ğŸ—‘ï¸ 6. Deletar InstituiÃ§Ã£o

**Endpoint**

`DELETE /instituicao/:id`

---

### ğŸ’³ 7. Criar Conta para UsuÃ¡rio

**Endpoint**

`POST /usuarios/:cpf/contas`

**Corpo da requisiÃ§Ã£o**

```json
{
  "institution_name": "Banco do Brasil",
  "type": "Banco"
}
```

### ğŸ” 8. Consultar Contas de UsuÃ¡rio por InstituiÃ§Ã£o

**Endpoint**

`GET /usuarios/:cpf/contas?instituicao=`

**ParÃ¢metros de consulta**

- `instituicao=` - Nome da instituiÃ§Ã£o.

**Exemplo:**

`GET /usuarios/:cpf/contas?instituicao=Banrisul`

---

### ğŸ’¸ 9. Realizar TransaÃ§Ã£o

**Endpoint**

`POST /usuarios/:cpf/transacoes`

`:cpf` - e o cpf de origem

**Corpo da requisiÃ§Ã£o para transferencia**

```json
{
  "type": "transferencia",
  "amount": 1,
  "destination_cpf": "12345678910",
  "institution_name_origin": "Banco do Brasil",
  "institution_name": "Banrisul"
}
```
**Corpo da requisiÃ§Ã£o para saque**

```json
{
  "type": "saque",
  "amount": 50,
  "institution_name_origin": "Itau"
}
```

**Corpo da requisiÃ§Ã£o para deposito**

```json
{
  "type": "deposito",
  "amount": 100,
  "institution_name_origin": "Banrisul"
}
```

### ğŸ“„ 10. Consultar Extrato de TransaÃ§Ãµes

**Endpoint com filtro de instituicao**

`GET /usuarios/:cpf/extrato?instituicao=` 

**Endpoint sem filtro de instituicao**

`GET /usuarios/:cpf/extrato` 

### ğŸ’° 11. Consultar Saldo de UsuÃ¡rio

**Endpoint**

`GET /usuarios/:cpf/saldo?instituicao=`

**Endpoint com filtro de instituicao**

`GET /usuarios/:cpf/saldo?instituicao=` 

**Endpoint sem filtro de instituicao**

`GET /usuarios/:cpf/saldo` 
